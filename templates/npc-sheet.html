<form class="{{cssClass}}" autocomplete="off">

    {{!-- Sheet Header --}}
    <header class="sheet-header">
        <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
        <div class="header-fields">
            <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
            <div class="resources">
                <label class="resource-label">Health</label><p>
                <input class="resource-hp" type="text" name="data.hp.value" value="{{data.hp.value}}" data-dtype="Number"/>
                <span>-</span>
                <input class="resource-hp-max" type="text" name="data.hp.max" value="{{data.hp.max}}" data-dtype="Number"/>
            </div>
            <div class="resources">
                <label class="resource-label">Magicka</label><p>
                <input class="resource-mp" type="text" name="data.magicka.value" value="{{data.magicka.value}}" data-dtype="Number"/>
                <span>-</span>
                <input class="resource-mp-max" type="text" name="data.magicka.max" value="{{data.magicka.max}}" data-dtype="Number"/>
            </div>
            <div class="resources">
                <label class="resource-label">Stamina</label><p>
                <input class="resource-sp" name="data.stamina.value" value="{{data.stamina.value}}" data-dtype="Number"/>
                <span>-</span>
                <input class="resource-sp-max" name="data.stamina.max" value="{{data.stamina.max}}" data-dtype="Number"/>
            </div>
            <div class="resources">
                <label class="resource-label">Luck Points</label><p>
                <input class="resource-lp" name="data.luck_points.value" value="{{data.luck_points.value}}" data-dtype="Number"/>
                <span>-</span>
                <input class="resource-lp-max" name="data.luck_points.max" value="{{data.luck_points.max}}" data-dtype="Number"/>
            </div>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs2 tabs" data-group="primary">
        <a class="item" data-tab="core">Core</a>
        <a class="item" data-tab="desc">Biography</a>
        <a class="item" data-tab="combat">Combat</a>
        <a class="item" data-tab="spells">Spells</a>
        <a class="item" data-tab="talents">Abilities</a>
        <a class="item" data-tab="items">Equipment</a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">

        {{!-- Core Tab --}}
        <div class="tab core" data-group="primary" data-tab="core">
            <div>
            <table class="characteristic-table">
                <tr>
                    <th><button class="characteristic-roll" name="Strength" id="str">Str</button></th>
                    <th><button class="characteristic-roll" name="Endurance" id="end">End</button></th>
                    <th><button class="characteristic-roll" name="Agility" id="agi">Agi</button></th>
                    <th><button class="characteristic-roll" name="Intelligence" id="int">Int</button></th>
                    <th><button class="characteristic-roll" name="Willpower" id="wp">Wp</button></th>
                    <th><button class="characteristic-roll" name="Perception" id="prc">Prc</button></th>
                    <th><button class="characteristic-roll" name="Personality" id="prs">Prs</button></th>
                    <th><button class="characteristic-roll" name="Luck" id="lck">Lck</button></th>
                </tr>
                <tr>
                    <td><input name="data.characteristics.str.value" type="text" value="{{data.characteristics.str.value}}" data-dtype="Number"></td>
                    <td><input name="data.characteristics.end.value" type="text" value="{{data.characteristics.end.value}}" data-dtype="Number"></td>
                    <td><input name="data.characteristics.agi.value" type="text" value="{{data.characteristics.agi.value}}" data-dtype="Number"></td>
                    <td><input name="data.characteristics.int.value" type="text" value="{{data.characteristics.int.value}}" data-dtype="Number"></td>
                    <td><input name="data.characteristics.wp.value" type="text" value="{{data.characteristics.wp.value}}" data-dtype="Number"></td>
                    <td><input name="data.characteristics.prc.value" type="text" value="{{data.characteristics.prc.value}}" data-dtype="Number"></td>
                    <td><input name="data.characteristics.prs.value" type="text" value="{{data.characteristics.prs.value}}" data-dtype="Number"></td>
                    <td><input name="data.characteristics.lck.value" type="text" value="{{data.characteristics.lck.value}}" data-dtype="Number"></td>
                </tr>
                <tr>
                    <td><input type="checkbox" name="data.characteristics.str.favored" {{checked data.characteristics.str.favored}}></td>
                    <td><input type="checkbox" name="data.characteristics.end.favored" {{checked data.characteristics.end.favored}}></td>
                    <td><input type="checkbox" name="data.characteristics.agi.favored" {{checked data.characteristics.agi.favored}}></td>
                    <td><input type="checkbox" name="data.characteristics.int.favored" {{checked data.characteristics.int.favored}}></td>
                    <td><input type="checkbox" name="data.characteristics.wp.favored" {{checked data.characteristics.wp.favored}}></td>
                    <td><input type="checkbox" name="data.characteristics.prc.favored" {{checked data.characteristics.prc.favored}}></td>
                    <td><input type="checkbox" name="data.characteristics.prs.favored" {{checked data.characteristics.prs.favored}}></td>
                    <td><input type="checkbox" name="data.characteristics.lck.favored" {{checked data.characteristics.lck.favored}}></td>
                </tr>
            </table>
            </div>
            <div>
                <table>
                    <tr class="characteristic-table">
                        <th>Race/Species</th>
                        <th>Birthsign</th>
                        <th>Age</th>
                        <th>Soul Energy</th>
                    </tr>
                    <tr class="field-inputs">
                        <td><input type="text" name="data.race" value="{{data.race}}" data-dtype="String"></td>
                        <td><input type="text" name="data.birthsign" value="{{data.birthsign}}" data-dtype="String"></td>
                        <td><input type="text" name="data.age" value="{{data.age}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.soul_energy" value="{{data.soul_energy}}" data-dtype="String"></td>
                    </tr>
                </table>
                <table>
                    <tr class="characteristic-table">
                        <th><button class="professions-roll" name="Combat" id="combat">Combat</button></th>
                        <th><button class="professions-roll" name="Magic" id="magic">Magic</button></th>
                        <th><button class="professions-roll" name="Evade" id="evade">Evade</button></th>
                        <th><button class="professions-roll" name="Observe" id="observe">Observe</button></th>
                        <th><button class="professions-roll" name="Stealth" id="stealth">Stealth</button></th>
                        <th><button class="professions-roll" name="Knowledge" id="knowledge">Knowledge</button></th>
                        <th><button class="professions-roll" name="Social" id="social">Social</button></th>
                        <th><button class="professions-roll" name="Physical" id="physical">Physical</button></th>
                    </tr>
                    <tr class="field-inputs">
                        <td><input type="text" name="data.professions.combat" value="{{data.professions.combat}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.professions.magic" value="{{data.professions.magic}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.professions.evade" value="{{data.professions.evade}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.professions.observe" value="{{data.professions.observe}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.professions.stealth" value="{{data.professions.stealth}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.professions.knowledge" value="{{data.professions.knowledge}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.professions.social" value="{{data.professions.social}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.professions.physical" value="{{data.professions.physical}}" data-dtype="Number"></td>
                    </tr>
                </table>
            </div>
            <table>
                <tr class="characteristic-table">
                    <th>Roll</th>
                    <th>Unconventional Skill</th>
                    <th>Value</th>
                </tr>
                <tr class="field-inputs-small">
                    <td><button class="unconventional-roll" name="{{data.skills.profession1.name}}" id="profession1">Roll</button></td>
                    <td><input type="text" name="data.skills.profession1.name" value="{{data.skills.profession1.name}}" data-dtype="String"></td>
                    <td><input type="text" name="data.skills.profession1.bonus" value="{{data.skills.profession1.bonus}}" data-dtype="Number"></td>
                </tr>
                <tr class="field-inputs-small">
                    <td><button class="unconventional-roll" name="{{data.skills.profession2.name}}" id="profession2">Roll</button></td>
                    <td><input type="text" name="data.skills.profession2.name" value="{{data.skills.profession2.name}}" data-dtype="String"></td>
                    <td><input type="text" name="data.skills.profession2.bonus" value="{{data.skills.profession2.bonus}}" data-dtype="Number"></td>
                </tr>
                <tr class="field-inputs-small">
                    <td><button class="unconventional-roll" name="{{data.skills.profession3.name}}" id="profession3">Roll</button></td>
                    <td><input type="text" name="data.skills.profession3.name" value="{{data.skills.profession3.name}}" data-dtype="String"></td>
                    <td><input type="text" name="data.skills.profession3.bonus" value="{{data.skills.profession3.bonus}}" data-dtype="Number"></td>
                </tr>
            </table>
        </div>

        {{!-- Bio Tab --}}
        <div class="tab desc" data-group="primary" data-tab="desc">
            <div>
                {{editor content=data.bio target="data.bio" button=true owner=owner editable=editable}}
            </div>
        </div>

        {{!-- Combat Tab --}}
        <div class="tab combat" data-group="primary" data-tab="combat">
            <table class="actionPoints">
                <tr class="combat_table_header2">
                    <th colspan="5">Stats & Bonuses</th>
                </tr>
                <tr>
                    <th colspan="2">Action Points</th>
                    <th>Wounded</th>
                    <th>Size</th>
                    <th>Weight Class</th>
                </tr>
                <tr>
                    <td><input type="text" name="data.action_points.value" value="{{data.action_points.value}}" data-dtype="Number"></td>
                    <td><input type="text" name="data.action_points.max" value="{{data.action_points.max}}" data-dtype="Number"></td>
                    <td><input type="checkbox" name="data.wounded" {{checked data.wounded}}></td>
                    <td><select name="data.size" data-type="String">
                        {{#select actor.data.size}}
                        {{#each actor.data.size_cat as |size_cat key|}}
                        <option value="{{key}}">{{size_cat}}</option> 
                        {{/each}} {{/select}}
                    </select></td> 
                    <td><select name="data.armor_class" data-type="String">
                        {{#select actor.data.armor_class}}
                        {{#each actor.data.armor_class_cat as |armor_class_cat key|}}
                        <option value="{{key}}">{{armor_class_cat}}</option> 
                        {{/each}} {{/select}}
                    </select></td>
                </tr>
            </table>
            <table>
                <tr>
                    <th></th>
                    <th>Wound</th>
                    <th>Speed</th>
                    <th>Initiative</th>
                    <th>HP Bonus</th>
                    <th>MP Bonus</th>
                    <th>SP Bonus</th>
                </tr>
                <tr class="field-inputs">
                    <th>Value</th>
                    <td><input type="text" name="data.wound_threshold.base" value="{{data.wound_threshold.base}}" data-dtype="Number" disabled></td>
                    <td><input type="text" name="data.speed.base" value="{{data.speed.base}}" data-dtype="Number" disabled></td>
                    <td><input type="text" name="data.initiative.base" value="{{data.initiative.base}}" data-dtype="Number" disabled></td>
                    <td><input type="text" name="data.hp.bonus" value="{{data.hp.bonus}}" data-dtype="Number"></td>
                    <td><input type="text" name="data.magicka.bonus" value="{{data.magicka.bonus}}" data-dtype="Number"></td>
                    <td><input type="text" name="data.stamina.bonus" value="{{data.stamina.bonus}}" data-dtype="Number"></td>
                </tr>
                <tr class="field-inputs">
                    <th>Bonus</th>
                    <td><input type="text" name="data.wound_threshold.bonus" value="{{data.wound_threshold.bonus}}" data-dtype="Number"></td>
                    <td><input type="text" name="data.speed.bonus" value="{{data.speed.bonus}}" data-dtype="Number"></td>
                    <td><input type="text" name="data.initiative.bonus" value="{{data.initiative.bonus}}" data-dtype="Number"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
            <div>
                <table class="combat_table">
                    <tr>
                        <th colspan="8" class="combat_table_header2">Armor Locations</th>
                    </tr>
                    <tr>
                        <td></td>
                        <td>0</td>
                        <td>9</td>
                        <td>8</td>
                        <td>7</td>
                        <td>6</td>
                        <td>1-5</td>
                    </tr>
                    <tr>
                        <th></th>
                        <th>Head</th>
                        <th>L. Arm</th>
                        <th>R. Arm</th>
                        <th>L. Leg</th>
                        <th>R. Leg</th>
                        <th>Body</th>
                        <th>Shield</th>
                    </tr>
                    <tr class="field-inputs-small">
                        <td>AR</td>
                        <td><input type="text" name="data.armor.head.ar" value="{{data.armor.head.ar}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.armor.l_arm.ar" value="{{data.armor.l_arm.ar}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.armor.r_arm.ar" value="{{data.armor.r_arm.ar}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.armor.l_leg.ar" value="{{data.armor.l_leg.ar}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.armor.r_leg.ar" value="{{data.armor.r_leg.ar}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.armor.body.ar" value="{{data.armor.body.ar}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.shield.br" value="{{data.shield.br}}" data-dtype="Number"></td>
                    </tr>
                    <tr class="field-inputs-small">
                        <td class="field-inputs-small">MR</td>
                        <td><input type="text" name="data.armor.head.magic_ar" value="{{data.armor.head.magic_ar}}" data-dtype="String"></td>
                        <td><input type="text" name="data.armor.l_arm.magic_ar" value="{{data.armor.l_arm.magic_ar}}" data-dtype="String"></td>
                        <td><input type="text" name="data.armor.r_arm.magic_ar" value="{{data.armor.r_arm.magic_ar}}" data-dtype="String"></td>
                        <td><input type="text" name="data.armor.l_leg.magic_ar" value="{{data.armor.l_leg.magic_ar}}" data-dtype="String"></td>
                        <td><input type="text" name="data.armor.r_leg.magic_ar" value="{{data.armor.r_leg.magic_ar}}" data-dtype="String"></td>
                        <td><input type="text" name="data.armor.body.magic_ar" value="{{data.armor.body.magic_ar}}" data-dtype="String"></td>
                        <td><input type="text" name="data.shield.magic_br" value="{{data.shield.magic_br}}" data-dtype="String"></td>
                    </tr>
                </table>
            </div>
                    <table>
                        <tr>
                            <th colspan="5" class="combat_table_header2">Prepared Weapons</th>
                        </tr>
                        <tr>
                            <th>Roll</th>
                            <th>Weapon</th>
                            <th>Dam</th>
                            <th>Reach</th>
                            <th>Quality</th>
                        </tr>
                        <tr class="field-inputs-small">
                            <td><button class="weapon-roll" name="Primary Weapon" id="w1">Roll</button></td>
                            <td><input type="text" name="data.weapons.w1.name" value="{{data.weapons.w1.name}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w1.dmg" value="{{data.weapons.w1.dmg}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w1.reach" value="{{data.weapons.w1.reach}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w1.qualities" value="{{data.weapons.w1.qualities}}" data-dtype="String"></td>
                        </tr>
                        <tr class="field-inputs-small">
                            <td><button class="weapon-roll" name="Secondary Weapon" id="w2">Roll</button></td>
                            <td><input type="text" name="data.weapons.w2.name" value="{{data.weapons.w2.name}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w2.dmg" value="{{data.weapons.w2.dmg}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w2.reach" value="{{data.weapons.w2.reach}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w2.qualities" value="{{data.weapons.w2.qualities}}" data-dtype="String"></td>
                        </tr>
                        <tr class="field-inputs-small">
                            <td><button class="weapon-roll" name="Sidearm Weapon" id="w3">Roll</button></td>
                            <td><input type="text" name="data.weapons.w3.name" value="{{data.weapons.w3.name}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w3.dmg" value="{{data.weapons.w3.dmg}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w3.reach" value="{{data.weapons.w3.reach}}" data-dtype="String"></td>
                            <td><input type="text" name="data.weapons.w3.qualities" value="{{data.weapons.w3.qualities}}" data-dtype="String"></td>
                        </tr>
                    </table>
                </div>
        </div>

        {{!-- Spells Tab --}}
        <div class="tab spells" data-group="primary" data-tab="spells">
            <ol class="spell-list">
                {{#each actor.spell as |spell school|}}
                <li class="item flexrow">
                    <div class="spellHeader">{{school}} spells</div>
                </li>
                {{#each spell as |item id|}}
                    <li class="item flexrow" data-item-id="{{item._id}}">
                        <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
                        <h4 class="item-name">{{item.name}}</h4>
                        <div class="item-controls">
                            <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                            <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                        </div>
                    </li>
                {{/each}}
            {{/each}}
        </ol>
        </div>

        {{!-- Talents Tab --}}
        <div class="tab talents" data-group="primary" data-tab="talents">
            <div>
                {{editor content=data.talents target="data.talents" button=true owner=owner editable=editable}}
            </div>
        </div>

        {{!-- Owned Items Tab --}}
        <div class="tab items" data-group="primary" data-tab="items">
            <div>
                <table class="characteristic-table">
                    <tr>
                        <th>Wealth</th>
                        <th>Supply</th>
                        <th>Carry Bonus</th>
                        <th>Carry Rating</th>
                        <th>Current ENC</th>
                    </tr>
                    <tr>
                        <td><input type="text" name="data.wealth" value="{{data.wealth}}" data-dtype="Number"></td>
                        <td><select name="data.supply" data-dtype="String">
                            {{#select actor.data.supply}}
                            {{#each actor.data.supply_cat as |supply_cat key|}}
                            <option value="{{key}}">{{supply_cat}}</option>
                            {{/each}} {{/select}}
                        </select></td>
                        <td><input type="text" name="data.carry_rating.bonus" value="{{data.carry_rating.bonus}}" data-dtype="Number"></td>
                        <td><input type="text" name="data.carry_rating.max" value="{{data.carry_rating.max}}" data-dtype="Number" disabled></td>
                        <td><input class="enc-color-green" type="text" name="data.current_enc" value="{{data.current_enc}}" data-dtype="Number" disabled></td>
                    </tr>
                </table>
            </div>
            <div class="itemHeader">
            <table>
                <tr>
                    <th colspan="3">Armor</th>
                </tr>
                <tr>
                    <td class="itemHeaderQTY">QTY</td>
                    <td class="itemHeaderQTY">ENC</td>
                    <td class="itemHeaderItem">Item</td>
                </tr>
            </table>
            </div>
               <ol class="item-list">
                        {{#each actor.armor as |item id|}}
                            <li class="item flexrow" data-item-id="{{item._id}}">
                                <div class="item-list-resource">
                                <input name="data.quantity" type="text" value="{{data.quantity}}" data-dtype="Number" disabled>
                                <input type="text" name="data.enc" value="{{data.enc}}" data-dtype="Number" disabled>
                                </div>
                                <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
                                <h4 class="item-name">{{item.name}}</h4>
                                <div class="item-controls">
                                    <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                                    <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                                </div>
                            </li>
                        {{/each}}
                </ol>
                <div class="itemHeader">
                    <table>
                        <tr>
                            <th colspan="3">Weapons</th>
                        </tr>
                        <tr>
                            <td class="itemHeaderQTY">QTY</td>
                            <td class="itemHeaderQTY">ENC</td>
                            <td class="itemHeaderItem">Item</td>
                        </tr>
                    </table>
                    </div>
                <ol class="item-list">
                    {{#each actor.weapon as |item id|}}
                        <li class="item flexrow" data-item-id="{{item._id}}">
                            <div class="item-list-resource">
                            <input name="data.quantity" type="text" value="{{data.quantity}}" data-dtype="Number" disabled>
                            <input type="text" name="data.enc" value="{{data.enc}}" data-dtype="Number" disabled>
                            </div>
                            <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
                            <h4 class="item-name">{{item.name}}</h4>
                            <div class="item-controls">
                                <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                                <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                            </div>
                        </li>
                    {{/each}}
            </ol>
            <div class="itemHeader">
                <table>
                    <tr>
                        <th colspan="3">Equipment</th>
                    </tr>
                    <tr>
                        <td class="itemHeaderQTY">QTY</td>
                        <td class="itemHeaderQTY">ENC</td>
                        <td class="itemHeaderItem">Item</td>
                    </tr>
                </table>
                </div>
            <ol class="item-list">
                {{#each actor.gear as |item id|}}
                    <li class="item flexrow" data-item-id="{{item._id}}">
                        <div class="item-list-resource">
                        <input name="data.quantity" type="text" value="{{data.quantity}}" data-dtype="Number" disabled>
                        <input type="text" name="data.enc" value="{{data.enc}}" data-dtype="Number" disabled>
                        </div>
                        <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
                        <h4 class="item-name">{{item.name}}</h4>
                        <div class="item-controls">
                            <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                            <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                        </div>
                    </li>
                {{/each}}
        </ol>
        </div> 
    </section>
</form>
